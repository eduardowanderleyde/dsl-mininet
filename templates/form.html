<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Novo Cen√°rio</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-4">
    <h1>Novo Cen√°rio</h1>
    
    <div class="alert alert-warning mb-4">
        <h5>üìö Conceitos B√°sicos</h5>
        <div class="row">
            <div class="col-md-6">
                <h6>üì° APs (Access Points):</h6>
                <p>S√£o os roteadores WiFi que criam a rede. Cada AP tem uma posi√ß√£o (x,y) no espa√ßo.</p>
                
                <h6>üì± Stations:</h6>
                <p>S√£o os dispositivos m√≥veis (como celulares) que se conectam aos APs. Eles se movem seguindo uma trajet√≥ria definida.</p>
            </div>
            <div class="col-md-6">
                <h6>üì∂ Canal WiFi:</h6>
                <p>Frequ√™ncia da rede (1-13). Cada canal √© uma "faixa" diferente de frequ√™ncia. APs no mesmo canal (ex: todos no canal 1) formam uma rede mesh, mas podem interferir entre si. Canais diferentes (ex: AP1 no canal 1, AP2 no canal 6) evitam interfer√™ncia.</p>
                
                <h6>‚è±Ô∏è Tempo de Espera:</h6>
                <p>Quanto tempo (em segundos) a station fica parada em cada ponto da trajet√≥ria antes de se mover para o pr√≥ximo.</p>
            </div>
        </div>
        <hr>
        <p><b>üéØ Objetivo:</b> Simular dispositivos m√≥veis se movendo entre diferentes pontos de acesso WiFi, capturando dados de qualidade da conex√£o (RSSI, lat√™ncia) durante o movimento.</p>
    </div>
    
    <form method="post">
        <div class="mb-3">
            <label>SSID</label>
            <input type="text" class="form-control" name="ssid" value="{{ ssid or 'meshNet' }}">
        </div>
        <div class="mb-3">
            <label>Canal</label>
            <input type="number" class="form-control" name="channel" value="{{ channel or 1 }}">
        </div>
        <div class="mb-3">
            <label>Tempo de espera (s)</label>
            <input type="number" class="form-control" name="wait" value="{{ wait or 2 }}">
        </div>
        <hr>
        <h4>APs</h4>
        <div id="aps">
            {% for ap in aps %}
            <div class="row mb-2">
                <div class="col"><input type="text" class="form-control" name="ap_name" value="{{ ap.name }}" placeholder="Nome"></div>
                <div class="col"><input type="number" class="form-control" name="ap_x" value="{{ ap.x }}" placeholder="X"></div>
                <div class="col"><input type="number" class="form-control" name="ap_y" value="{{ ap.y }}" placeholder="Y"></div>
            </div>
            {% endfor %}
        </div>
        <button type="button" class="btn btn-secondary mb-3" onclick="addAP()">Adicionar AP</button>
        <hr>
        <h4>Stations</h4>
        <div id="stations">
            {% for sta in stations %}
            <div class="row mb-2">
                <div class="col"><input type="text" class="form-control" name="sta_name" value="{{ sta.name }}" placeholder="Nome"></div>
                <div class="col"><input type="number" class="form-control" name="sta_start_x" value="{{ sta.start_x }}" placeholder="X inicial"></div>
                <div class="col"><input type="number" class="form-control" name="sta_start_y" value="{{ sta.start_y }}" placeholder="Y inicial"></div>
                <div class="col"><input type="text" class="form-control" name="sta_traj" value="{{ sta.trajectory|join(';') }}" placeholder="Trajet√≥ria (ex: 10,10;20,20)"></div>
            </div>
            {% endfor %}
        </div>
        <button type="button" class="btn btn-secondary mb-3" onclick="addStation()">Adicionar Station</button>
        <br>
        <button type="submit" class="btn btn-primary">Salvar Cen√°rio</button>
    </form>
</div>
<div class="container mt-4">
    <div class="alert alert-info">
        <h5>üí° Exemplos & Dicas para Criar Cen√°rios</h5>
        <div class="row">
            <div class="col-md-6">
                <h6>üì° Exemplos de APs:</h6>
                <ul>
                    <li><b>Linha Reta:</b> ap1(10,20) + ap2(30,20)</li>
                    <li><b>Tri√¢ngulo:</b> ap1(10,10) + ap2(30,10) + ap3(20,30)</li>
                    <li><b>Quadrado:</b> ap1(10,10) + ap2(30,10) + ap3(30,30) + ap4(10,30)</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>üì± Exemplos de Stations:</h6>
                <ul>
                    <li><b>Linha Reta:</b> sta1(5,20) ‚Üí trajet√≥ria: <code>15,20;25,20;35,20</code></li>
                    <li><b>Tri√¢ngulo:</b> sta1(15,15) ‚Üí trajet√≥ria: <code>25,15;20,25;15,15</code></li>
                    <li><b>Quadrado:</b> sta1(5,5) ‚Üí trajet√≥ria: <code>35,5;35,35;5,35;5,5</code></li>
                </ul>
                <h6>üéØ Exemplos de Trajet√≥rias:</h6>
                <ul>
                    <li><b>Linha:</b> <code>15,20;25,20;35,20</code></li>
                    <li><b>Tri√¢ngulo:</b> <code>25,15;20,25;15,15</code></li>
                    <li><b>Quadrado:</b> <code>35,5;35,35;5,35;5,5</code></li>
                </ul>
            </div>
        </div>
        <hr>
        <p><b>üí≠ Dicas:</b></p>
        <ul>
            <li>Use coordenadas entre 0 e 50 para facilitar a visualiza√ß√£o</li>
            <li>Trajet√≥ria: pontos separados por <code>;</code>, cada ponto com <code>x,y</code></li>
            <li>Tempo de espera: 2-5 segundos √© ideal para capturar dados</li>
            <li>SSID: mesmo nome para todos os APs = mesh l√≥gico</li>
        </ul>
        <p><b>üéØ Cen√°rios Sugeridos:</b> Comece com 2 APs em linha reta e 1 station atravessando para testar handover b√°sico!</p>
    </div>
</div>

<div class="container mt-4">
    <div class="alert alert-success">
        <h5>üìã Passo a Passo para Criar um Cen√°rio</h5>
        <ol>
            <li><b>Configure a rede:</b> Defina SSID, canal e tempo de espera</li>
            <li><b>Adicione APs:</b> Clique em "Adicionar AP" e defina nome e posi√ß√£o (x,y)</li>
            <li><b>Adicione Stations:</b> Clique em "Adicionar Station" e configure:
                <ul>
                    <li>Nome da station</li>
                    <li>Posi√ß√£o inicial (x,y)</li>
                    <li>Trajet√≥ria (pontos separados por ;)</li>
                </ul>
            </li>
            <li><b>Teste o cen√°rio:</b> Clique em "Salvar Cen√°rio"</li>
            <li><b>Execute:</b> Volte √† p√°gina inicial e clique em "Executar" no seu cen√°rio</li>
            <li><b>Analise os logs:</b> Baixe os arquivos CSV gerados para cada station</li>
        </ol>
        <p><b>üí° Dica:</b> Comece simples! 2 APs + 1 station √© suficiente para testar handover b√°sico.</p>
    </div>
</div>
<script>
function addAP() {
    var aps = document.getElementById('aps');
    var row = document.createElement('div');
    row.className = 'row mb-2';
    row.innerHTML = '<div class="col"><input type="text" class="form-control" name="ap_name" placeholder="Nome"></div>' +
        '<div class="col"><input type="number" class="form-control" name="ap_x" placeholder="X"></div>' +
        '<div class="col"><input type="number" class="form-control" name="ap_y" placeholder="Y"></div>';
    aps.appendChild(row);
}
function addStation() {
    var stas = document.getElementById('stations');
    var row = document.createElement('div');
    row.className = 'row mb-2';
    row.innerHTML = '<div class="col"><input type="text" class="form-control" name="sta_name" placeholder="Nome"></div>' +
        '<div class="col"><input type="number" class="form-control" name="sta_start_x" placeholder="X inicial"></div>' +
        '<div class="col"><input type="number" class="form-control" name="sta_start_y" placeholder="Y inicial"></div>' +
        '<div class="col"><input type="text" class="form-control" name="sta_traj" placeholder="Trajet√≥ria (ex: 10,10;20,20)"></div>';
    stas.appendChild(row);
}
</script>
</body>
</html> 